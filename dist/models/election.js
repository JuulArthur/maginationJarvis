"use strict";
exports = module.exports = (function(collection, mongoose) {
  var schema = mongoose.Schema({
    title: {
      type: String,
      required: true,
      index: true
    },
    description: {type: String},
    alternatives: [{
      type: mongoose.Schema.Types.ObjectId,
      ref: 'alternative'
    }]
  });
  schema.methods.addAlternative = function(alternative) {
    if (this.alternatives)
      this.alternatives.push(alternative);
    else
      this.alternatives = [alternative];
  };
  return mongoose.model(collection, schema);
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZGVscy9lbGVjdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUFBLE1BQU0sRUFBSSxDQUFBLE1BQUssUUFBUSxJQUFJLFNBQUMsVUFBUyxDQUFHLENBQUEsUUFBTyxDQUFNO0FBQ2pELEFBQUksSUFBQSxDQUFBLE1BQUssRUFBSSxDQUFBLFFBQU8sT0FBTyxBQUFDLENBQUM7QUFDekIsUUFBSSxDQUFHO0FBQ0gsU0FBRyxDQUFHLE9BQUs7QUFDWCxhQUFPLENBQUcsS0FBRztBQUNiLFVBQUksQ0FBRyxLQUFHO0FBQUEsSUFDZDtBQUNBLGNBQVUsQ0FBRyxFQUNULElBQUcsQ0FBRyxPQUFLLENBQ2Y7QUFDQSxlQUFXLENBQUcsRUFDVjtBQUNJLFNBQUcsQ0FBRyxDQUFBLFFBQU8sT0FBTyxNQUFNLFNBQVM7QUFBRyxRQUFFLENBQUcsY0FBWTtBQUFBLElBQzNELENBQ0o7QUFBQSxFQUNKLENBQUMsQ0FBQztBQUVGLE9BQUssUUFBUSxlQUFlLEVBQUksVUFBUyxXQUFVLENBQUU7QUFDakQsT0FBRyxJQUFHLGFBQWE7QUFBRyxTQUFHLGFBQWEsS0FBSyxBQUFDLENBQUMsV0FBVSxDQUFDLENBQUE7O0FBQ25ELFNBQUcsYUFBYSxFQUFJLEVBQUMsV0FBVSxDQUFDLENBQUM7QUFBQSxFQUMxQyxDQUFDO0FBRUQsT0FBTyxDQUFBLFFBQU8sTUFBTSxBQUFDLENBQUMsVUFBUyxDQUFHLE9BQUssQ0FBQyxDQUFDO0FBQzdDLENBQUEsQ0FBQztBQUFBIiwiZmlsZSI6Im1vZGVscy9lbGVjdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IChjb2xsZWN0aW9uLCBtb25nb29zZSkgPT4ge1xuICAgIHZhciBzY2hlbWEgPSBtb25nb29zZS5TY2hlbWEoe1xuICAgICAgICB0aXRsZToge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICBpbmRleDogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgICAgICAgdHlwZTogU3RyaW5nXG4gICAgICAgIH0sXG4gICAgICAgIGFsdGVybmF0aXZlczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCwgcmVmOiAnYWx0ZXJuYXRpdmUnXG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9KTtcblxuICAgIHNjaGVtYS5tZXRob2RzLmFkZEFsdGVybmF0aXZlID0gZnVuY3Rpb24oYWx0ZXJuYXRpdmUpe1xuICAgICAgICBpZih0aGlzLmFsdGVybmF0aXZlcykgdGhpcy5hbHRlcm5hdGl2ZXMucHVzaChhbHRlcm5hdGl2ZSlcbiAgICAgICAgZWxzZSB0aGlzLmFsdGVybmF0aXZlcyA9IFthbHRlcm5hdGl2ZV07XG4gICAgfTtcblxuICAgIHJldHVybiBtb25nb29zZS5tb2RlbChjb2xsZWN0aW9uLCBzY2hlbWEpO1xufTsiXX0=