"use strict";
angular.module('voteApp').service('apiService', function($http, $routeParams) {
  this.isAuthenticated = function() {
    return $http({
      method: 'GET',
      url: '/api/isAuthenticated'
    }).success(function(data, status, headers, config) {
      return (!('user' in data));
    }).error(function(data, status, headers, config) {});
  };
  this.getElections = function() {
    var promise = $http({
      method: 'GET',
      url: '/api/election'
    }).success(function(data, status, headers, config) {
      return data;
    }).error(function(data, status, headers, config) {
      return data;
    });
    return promise;
  };
  this.getElection = function() {
    var promise = $http({
      method: 'GET',
      url: '/api/election/' + $routeParams.param
    }).success(function(data, status, headers, config) {
      return data;
    }).error(function(data, status, headers, config) {
      return data;
    });
    return promise;
  };
  this.login = function(username, password) {
    var promise = $http({
      method: 'POST',
      data: {
        username: username,
        password: password
      },
      url: '/auth/login'
    }).success(function(data, status, headers, config) {
      return data;
    }).error(function(data, status, headers, config) {
      return data;
    });
    return promise;
  };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInB1YmxpYy9qcy9zZXJ2aWNlcy9hcGlTZXJ2aWNlLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQUEsTUFBTSxPQUFPLEFBQUMsQ0FBQyxTQUFRLENBQUMsUUFBUSxBQUFDLENBQUMsWUFBVyxDQUFHLFVBQVUsS0FBSSxDQUFHLENBQUEsWUFBVyxDQUFHO0FBRTNFLEtBQUcsZ0JBQWdCLEVBQUksVUFBUyxBQUFDLENBQUU7QUFDL0IsU0FBTyxDQUFBLEtBQUksQUFBQyxDQUFDO0FBQUMsV0FBSyxDQUFHLE1BQUk7QUFBRyxRQUFFLENBQUcsdUJBQXFCO0FBQUEsSUFBQyxDQUFDLFFBQy9DLEFBQUMsQ0FBQyxTQUFVLElBQUcsQ0FBRyxDQUFBLE1BQUssQ0FBRyxDQUFBLE9BQU0sQ0FBRyxDQUFBLE1BQUssQ0FBRztBQUM3QyxXQUFPLEVBQUMsQ0FBQyxDQUFDLE1BQUssR0FBSyxLQUFHLENBQUMsQ0FBQyxDQUFDO0lBQzlCLENBQUMsTUFDRyxBQUFDLENBQUMsU0FBVSxJQUFHLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxPQUFNLENBQUcsQ0FBQSxNQUFLLENBQUcsR0FDL0MsQ0FBQyxDQUFDO0VBQ1YsQ0FBQztBQUVELEtBQUcsYUFBYSxFQUFJLFVBQVMsQUFBQyxDQUFFO0FBQzVCLEFBQUksTUFBQSxDQUFBLE9BQU0sRUFBSSxDQUFBLEtBQUksQUFBQyxDQUFDO0FBQUMsV0FBSyxDQUFHLE1BQUk7QUFBRyxRQUFFLENBQUcsZ0JBQWM7QUFBQSxJQUFDLENBQUMsUUFFL0MsQUFBQyxDQUFDLFNBQVUsSUFBRyxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsT0FBTSxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQzdDLFdBQU8sS0FBRyxDQUFDO0lBQ2YsQ0FBQyxNQUNHLEFBQUMsQ0FBQyxTQUFVLElBQUcsQ0FBRyxDQUFBLE1BQUssQ0FBRyxDQUFBLE9BQU0sQ0FBRyxDQUFBLE1BQUssQ0FBRztBQUMzQyxXQUFPLEtBQUcsQ0FBQztJQUNmLENBQUMsQ0FBQztBQUVOLFNBQU8sUUFBTSxDQUFDO0VBQ2xCLENBQUM7QUFFRCxLQUFHLFlBQVksRUFBSSxVQUFTLEFBQUMsQ0FBRTtBQUMzQixBQUFJLE1BQUEsQ0FBQSxPQUFNLEVBQUksQ0FBQSxLQUFJLEFBQUMsQ0FBQztBQUFDLFdBQUssQ0FBRyxNQUFJO0FBQUcsUUFBRSxDQUFHLENBQUEsZ0JBQWUsRUFBSSxDQUFBLFlBQVcsTUFBTTtBQUFBLElBQUMsQ0FBQyxRQUNyRSxBQUFDLENBQUMsU0FBVSxJQUFHLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxPQUFNLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDN0MsV0FBTyxLQUFHLENBQUM7SUFDZixDQUFDLE1BQ0csQUFBQyxDQUFDLFNBQVUsSUFBRyxDQUFHLENBQUEsTUFBSyxDQUFHLENBQUEsT0FBTSxDQUFHLENBQUEsTUFBSyxDQUFHO0FBQzNDLFdBQU8sS0FBRyxDQUFDO0lBQ2YsQ0FBQyxDQUFDO0FBQ04sU0FBTyxRQUFNLENBQUM7RUFDbEIsQ0FBQztBQUVELEtBQUcsTUFBTSxFQUFJLFVBQVUsUUFBTyxDQUFHLENBQUEsUUFBTyxDQUFHO0FBQ3ZDLEFBQUksTUFBQSxDQUFBLE9BQU0sRUFBSSxDQUFBLEtBQUksQUFBQyxDQUFDO0FBQUMsV0FBSyxDQUFHLE9BQUs7QUFBRyxTQUFHLENBQUc7QUFBQyxlQUFPLENBQUcsU0FBTztBQUFHLGVBQU8sQ0FBRyxTQUFPO0FBQUEsTUFBQztBQUFHLFFBQUUsQ0FBRyxjQUFZO0FBQUEsSUFBQyxDQUFDLFFBQzlGLEFBQUMsQ0FBQyxTQUFVLElBQUcsQ0FBRyxDQUFBLE1BQUssQ0FBRyxDQUFBLE9BQU0sQ0FBRyxDQUFBLE1BQUssQ0FBRztBQUM3QyxXQUFPLEtBQUcsQ0FBQztJQUVmLENBQUMsTUFDRyxBQUFDLENBQUMsU0FBVSxJQUFHLENBQUcsQ0FBQSxNQUFLLENBQUcsQ0FBQSxPQUFNLENBQUcsQ0FBQSxNQUFLLENBQUc7QUFDM0MsV0FBTyxLQUFHLENBQUM7SUFDZixDQUFDLENBQUM7QUFDTixTQUFPLFFBQU0sQ0FBQztFQUNsQixDQUFDO0FBRUwsQ0FBQyxDQUFDO0FBQUEiLCJmaWxlIjoicHVibGljL2pzL3NlcnZpY2VzL2FwaVNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiLi4vLi4vLi4iLCJzb3VyY2VzQ29udGVudCI6WyJhbmd1bGFyLm1vZHVsZSgndm90ZUFwcCcpLnNlcnZpY2UoJ2FwaVNlcnZpY2UnLCBmdW5jdGlvbiAoJGh0dHAsICRyb3V0ZVBhcmFtcykge1xuXG4gICAgdGhpcy5pc0F1dGhlbnRpY2F0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiAnL2FwaS9pc0F1dGhlbnRpY2F0ZWQnfSkuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoISgndXNlcicgaW4gZGF0YSkpO1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBlcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG5cbiAgICB0aGlzLmdldEVsZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiAnL2FwaS9lbGVjdGlvbid9KS5cblxuICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH0pLlxuICAgICAgICAgICAgZXJyb3IoZnVuY3Rpb24gKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5nZXRFbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cCh7bWV0aG9kOiAnR0VUJywgdXJsOiAnL2FwaS9lbGVjdGlvbi8nICsgJHJvdXRlUGFyYW1zLnBhcmFtfSkuXG4gICAgICAgICAgICBzdWNjZXNzKGZ1bmN0aW9uIChkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBlcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG4gICAgdGhpcy5sb2dpbiA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgdmFyIHByb21pc2UgPSAkaHR0cCh7bWV0aG9kOiAnUE9TVCcsIGRhdGE6IHt1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZH0sIHVybDogJy9hdXRoL2xvZ2luJ30pLlxuICAgICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcblxuICAgICAgICAgICAgfSkuXG4gICAgICAgICAgICBlcnJvcihmdW5jdGlvbiAoZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICB9O1xuXG59KTsiXX0=